enum SubscriptionStatus {
  ACTIVE
  INACTIVE
  CANCELLED
  @@schema("subscription_schema")
}

model subscription_table {
  subscription_id String @id @default(uuid()) @db.Uuid
  subscription_plan_id String @db.Uuid
  subscription_status SubscriptionStatus @default(ACTIVE)
  subscription_date_created DateTime @default(now()) @db.Timestamptz(3)
  subscription_date_updated DateTime? @updatedAt @db.Timestamptz(3)
  subscription_user_id String

  user_table user_table @relation(fields: [subscription_user_id], references: [user_id])
  subscription_plan_table subscription_plan_table @relation(fields: [subscription_plan_id], references: [subscription_plan_id])

  @@index([subscription_user_id])
  @@schema("subscription_schema")
  @@map("subscription_table")
}

model subscription_plan_table {
  subscription_plan_id String @id @default(uuid()) @db.Uuid
  subscription_plan_name String @default("FREE")
  subscription_plan_price Decimal @default(0)
  subscription_plan_currency String @default("PHP")
  subscription_plan_interval String @default("monthly")
  subscription_plan_date_created DateTime @default(now()) @db.Timestamptz(3)
  subscription_plan_date_updated DateTime? @updatedAt @db.Timestamptz(3)

  subscription_table subscription_table[]

  @@map("subscription_plan_table")
  @@schema("subscription_schema")
}